/* Copyright 2014, INDEE Interactive */
function TileTooltip(a){var b=null,c=0,d=0,e=0;this.onTooltipOver=function(){b=a.parents(".tile").offset(),a.html(this.cont),c=a.outerHeight(),d=a.outerWidth(),e=a.parents(".tile").width(),a.show()},this.onTooltipOut=function(){a.html(""),a.hide()},this.onTooltipMove=function(f,g,h){if(b){var i=g-b.left,j=h-b.top-c-20;i+d>e&&(i-=d),0>j&&(j+=2*c),a.css({top:j,left:i})}}}window.embedMode=!0,function(){var a={"en-US":{reportBug:"Report a Bug",dataUsage:"Any usage of the data on this site must be approved by Kaspersky Lab",tweetsAbout:"Tweets about %%%LINK%%%",retweet:"Retweet","fb-tlc-yml":'To leave a comment, you must <a class="js-facebook-auth">login</a>',"fb-tlc-ymс":"To leave a comment, you must click ","fb-npc":"No Public Comments ","fb-apc":'All Public Comments (<span class="js-comment-count">no</span>)',"fb-hc":"Hide comments","fb-nct":"no","fb-c-plural":["comment","comment","comment"],popupUsage:"Any usage of the counter’s data must be approved by Kaspersky Lab<br />Source: ",downFree:"Download for FREE:",tooltip:"Сlick the code to add to clipboard and embed the counter to your blog or webpage"},"ru-RU":{reportBug:"Сообщить об ошибке",dataUsage:"Любое использование данных с этого сайта должно быть одобрено «Лабораторией Касперского»",tweetsAbout:"Твиты о %%%LINK%%%",retweet:"Ретвит","fb-tlc-yml":'Чтобы оставить комментарии, необходимо <a class="js-facebook-auth">авторизоваться</a>',"fb-tlc-ymс":"Чтобы оставить комментарии, необходимо кликнуть по кнопке ","fb-npc":"Нет комментариев ","fb-apc":'Всего комментариев (<span class="js-comment-count">no</span>)',"fb-hc":"Скрыть комментарии","fb-nct":"нет","fb-c-plural":["комментарий","комментария","комментариев"],popupUsage:"",downFree:"Скачайте бесплатно для:",tooltip:"Для добавления счетчика на ваш сайт или блог используйте данный код"},"es-ES":{reportBug:"Enviar error",dataUsage:"Cualquier uso de los datos del contador tiene que ser aprobado por Kaspersky Lab",tweetsAbout:"Tweets sobre %%%LINK%%%",retweet:"Retweetear","fb-tlc-yml":'Para escribir un comentario, tienes que <a class="js-facebook-auth">iniciar sesión</a>',"fb-tlc-ymс":"Para escribir un comentario, tienes que hacer clic ","fb-npc":"Sin comentarios públicos ","fb-apc":'Todos los comentarios públicos (<span class="js-comment-count">no</span>)',"fb-hc":"Oculta los comentarios","fb-nct":"no","fb-c-plural":["comment","comment","comment"],//
popupUsage:"Cualquier uso de los datos del contador tiene que ser aprobado por Kaspersky Lab<br />Source: ",//
downFree:"Descarga gratuitamente:",tooltip:"Haz clic en el código para añadirlo al portapapeles e incrustar el contador en tu blog o página web"},"fr-FR":{reportBug:"Signaler un bug",dataUsage:"Toute utilisation des données du compteur doit être approuvée par Kaspersky Lab",tweetsAbout:"Tweets sur %%%LINK%%%",retweet:"Retweeter","fb-tlc-yml":'Pour laisser un commentaire, <a class="js-facebook-auth">vous devez vous identifier</a>',"fb-tlc-ymс":"Pour laisser un commentaire, vous devez cliquer ","fb-npc":"Pas de commentaires publics ","fb-apc":'Tous les commentaires publics (<span class="js-comment-count">non</span>)',"fb-hc":"Dissimuler les commentaires","fb-nct":"non","fb-c-plural":["comment","comment","comment"],//
popupUsage:"Toute utilisation des données du compteur doit être approuvée par Kaspersky Lab<br />Source: ",//
downFree:"Télécharger gratuitement:",tooltip:"Cliquez sur le code pour l'enregistrer dans le presse-papiers et intégrer le compteur à votre blog ou page Web"},"de-DE":{reportBug:"Einen Fehler melden",dataUsage:"Jegliche Nutzung der Statistiken ist ohne Genehmigung von Kaspersky untersagt.",tweetsAbout:"Darüber twittern %%%LINK%%%",retweet:"Retweet","fb-tlc-yml":'Du <a class="js-facebook-auth">musst eingeloggt sein</a>, um einen Kommentar abgeben zu können',"fb-tlc-ymс":"Klicke um einen Kommentar abzugeben ","fb-npc":"Keine öffentliche Kommentare ","fb-apc":'Alle Kommentare (<span class="js-comment-count">nein</span>)',"fb-hc":"Versteckte Kommentare","fb-nct":"nein","fb-c-plural":["comment","comment","comment"],popupUsage:"Jegliche Nutzung der Statistiken ist ohne Genehmigung von Kaspersky untersagt.<br />Source: ",downFree:"KOSTENLOS downloaden:",tooltip:"Um diese Statistik in deinen Blog einzubauen, musst du diesen Code kopieren und anschließend in deinen Blog einsetzen."},"it-IT":{reportBug:"invia un bug report",dataUsage:"qualsiasi uso dei dati del contatore deve essere approvato da Kaspersky Lab",tweetsAbout:"tweet riguardo a %%%LINK%%%",retweet:"retweet","fb-tlc-yml":'per lasciare un commento, fai il <a class="js-facebook-auth">login</a>',"fb-tlc-ymс":"per lasciare un commento, clicca qui ","fb-npc":"i commenti non sono pubblici ","fb-apc":'tutti i commenti sono pubblici (<span class="js-comment-count">no</span>)',"fb-hc":"nascondi i commenti","fb-nct":"no","fb-c-plural":["comment","comment","comment"],popupUsage:"qualsiasi uso dei dati del contatore deve essere approvato da Kaspersky Lab<br />Source: ",downFree:"scarica gratuitamente:",tooltip:"clicca sul codice per aggiungerlo alla clipboard e incorpora il contatore nel tuo blog o sito"},"pt-BR":{reportBug:"INFORME UM BUG",dataUsage:"Qualquer uso dos dados desse site precisa ser aprovado pela Kaspersky Lab",tweetsAbout:"Tweets sobre isso %%%LINK%%%",retweet:"Retweet","fb-tlc-yml":'Para comentar, é preciso fazer <a class="js-facebook-auth">login</a>',"fb-tlc-ymс":"Para comentar, clique aqui ","fb-npc":"Sem comentários públicos ","fb-apc":'Todos os comentários públicos (<span class="js-comment-count">não</span>)',"fb-hc":"Esconder comentários","fb-nct":"não","fb-c-plural":["comment","comment","comment"],popupUsage:"Qualquer uso dos dados desse site precisa ser aprovado pela Kaspersky Lab<br />Source: ",downFree:"Download gratuito:",tooltip:"Clique no código para copiar par ao clipboard e embede em seu blog ou página"},mx:{reportBug:"Informar de un fallo",dataUsage:"Cualquier uso de los datos en esta página web tiene que ser aprobado por Kaspersky Lab",tweetsAbout:"Tweets sobre esto %%%LINK%%%",retweet:"Retweet","fb-tlc-yml":'Para comentar usted debe <a class="js-facebook-auth">iniciar sesión</a>',"fb-tlc-ymс":"Para dejar un comentario, haga clic aquí ","fb-npc":"No hay comentarios públicos ","fb-apc":'Todos los comentarios públicos (<span class="js-comment-count">no</span>)',"fb-hc":"Ocultar comentarios","fb-nct":"no","fb-c-plural":["comment","comment","comment"],popupUsage:"Cualquier uso de los datos en esta página web tiene que ser aprobado por Kaspersky Lab<br />Source: ",downFree:"Descarga gratuita:",tooltip:"Сlick el código para añadir al clipboard e incrustar el contador a tu blog o página web"},ja:{reportBug:"不具合を報告する",dataUsage:"このWebサイトのデータ利用に際しては、Kaspersky Labの承認が必要です。",tweetsAbout:"%%%LINK%%% に関するツイート",retweet:"リツイート","fb-tlc-yml":'コメントを書くには、<a class="js-facebook-auth">ログイン</a>してください',"fb-tlc-ymс":"コメントを書くには、クリックしてください ","fb-npc":"コメントはありません ","fb-apc":'すべてのコメントを表示 (<span class="js-comment-count">なし</span>)',"fb-hc":"コメントを隠す","fb-nct":"なし","fb-c-plural":["comment","comment","comment"],popupUsage:"このWebサイトのデータ利用に際しては、Kaspersky Labの承認が必要です。<br />データ元: ",downFree:"無料で体験:",tooltip:"ご自身のブログやWebページにコードを埋め込みできます。コードをクリックすると、コピーできます。"},"zh-CN":{reportBug:"报告问题",dataUsage:"未经卡巴斯基实验室允许，任何人不得使用此网站之数据。",tweetsAbout:"关于 %%%LINK%%%",retweet:"转发","fb-tlc-yml":'想要发表评论，请先<a class="js-facebook-auth">登入</a>',"fb-tlc-ymс":"请点击此处发表评论 ","fb-npc":"没有公开评论 ","fb-apc":'所有公开评论 (<span class="js-comment-count">没有</span>)',"fb-hc":"隐藏评论","fb-nct":"没有","fb-c-plural":["comment","comment","comment"],popupUsage:"未经卡巴斯基实验室允许，任何人不得使用此网站之数据。<br />Source: ",downFree:"免费下载:",tooltip:"复制此代码并粘贴至博客或网页中需要插入数据的地方。"},ar:{reportBug:"الإبلاغ عن مشكلة",dataUsage:"يجب أن تتم الموافقة على أي استخدام لبيانات العداد من قبل كاسبرسكي لاب ",tweetsAbout:"تغريدات عن %%%LINK%%%",retweet:"إعادة التغريدات","fb-tlc-yml":'<a class="js-facebook-auth">كي تترك تعليقاً، يجب أن تسجل دخولك</a>',"fb-tlc-ymс":"كي تترك تعليقاً، يجب أن تنقر ","fb-npc":"لا تعليقات عامة ","fb-apc":'كل التعليقات العامة (<span class="js-comment-count">لا </span>)',"fb-hc":"إخفاء التعليقات","fb-nct":"لا ","fb-c-plural":["comment","comment","comment"],popupUsage:"يجب أن تتم الموافقة على أي استخدام لبيانات العداد من قبل كاسبرسكي لاب <br />Source: ",downFree:"حمل مجاناً:",tooltip:"انقر على الرمز لإضافة حافظة وتضمين العداد لمدونتك أو موقعك الالكتروني"},"pl-PL":{reportBug:"Zgłoś błąd",dataUsage:"Użycie danych z licznika musi zostać zaaprobowane przez Kaspersky Lab",tweetsAbout:"Tweety o %%%LINK%%%",retweet:"Retweetuj","fb-tlc-yml":'Aby zostawić komentarz, <a class="js-facebook-auth">musisz się zalogować</a>',"fb-tlc-ymс":"Kliknij, aby zostawić komentarz ","fb-npc":"Brak publicznych komentarzy ","fb-apc":'Wszystkie publiczne komentarze (<span class="js-comment-count">brak</span>)',"fb-hc":"Ukryj komentarze","fb-nct":"brak","fb-c-plural":["comment","comment","comment"],popupUsage:"Użycie danych z licznika musi zostać zaaprobowane przez Kaspersky Lab<br />Source: ",downFree:"Pobierz ZA DARMO:",tooltip:"Kliknij kod, by dodać go do schowka i umieść licznik na swoim blogu lub stronie WWW"}};$(function(){var b=$("html").attr("lang");"undefined"==typeof a[b]&&(b="en-US"),window.languageStrings=a[b],window.currentLang=b})}();var TileObject=function(){var a="%VAL% of spam e-mails sent every 24h",b="For more real-time #CyberPlanet stats check out our StatsHQ\nMore than 50 real-time counters reflecting Internet usage, Internet expansion, operating systems split  and CyberThreats dynamics. Don't tell anyone! It's a secret.",c="There are %VAL% of spam e-mails sent every 24h. For more real-time #CyberPlanet stats check out our StatsHQ:",d=window.location.protocol+"//"+window.location.host+kasstat_conf.themeURL+"/images/logolk.png",e=CommonClass.extend({init:function(){var e=this;e.defaultOptions({name:!1,opt_comment:!1,opt_percent:!1,list:!1,giant:!1,selectCurrent:0,size:2,theme:"green",pars:{statPage:kasstat_conf.statPage,ac:kasstat_conf.ac},share:{title:a,description:b,twitter:c,picture:d,tags:""},desc:!1,product:!1,statPage:kasstat_conf.statPage||document.location.href,embed:!1}),// set default attributes
e.id=null,e.minimized=!1,e.chartDrawed=!1,e.likeboxgen=!1,e.shareboxgen=!1,e.embedboxgen=!1,e.largeTile=!1,// set $elements
e.$={}},// bootstrap methods
generateContent:function(){return""},getShareValue:function(){return""},updateValue:$.noop,drawChart:$.noop,// [ Private methods ]=========================
_getParams:function(){var a=this;if("ja"==window.currentLang)var b=a.getShareValue().replace(",","");else b="ar"==window.currentLang?a.getShareValue().replace("٫",""):a.getShareValue().replace(" ","");return $.extend({c_id:a.id,c_sel:a.options.selectCurrent?a.options.selectCurrent:0,val:b},a.options.pars)},_formatVal:function(a){if("ja"==window.currentLang)var b=a.toString().replace(/(\d{1,3}(?=(\d{3})+$))/gim,"$1,");else b="ar"==window.currentLang?a.toString().replace(/(\d{1,3}(?=(\d{3})+$))/gim,"$1٫"):a.toString().replace(/(\d{1,3}(?=(\d{3})+$))/gim,"$1 ");return b},_getPanel:function(){var a="zh-CN"==window.currentLang;return a?this._getPanelCn():this._getPanelEuro()},_getPanelEuro:function(){var a="ru-RU"==window.currentLang,b=this,c='<div class="panel"><div class="panel_shares">';if(a&&(c+='<a class="panel_button panel_button-vk js-share-button" data-name="vk"></a>'),b.options.embed)var d='<a class="panel_button panel_button-logo" target="_blank" href="'+window.kasstat_conf.statPage+'"></a>';else d='<a class="panel_button panel_button-info js-info"></a>';return c+='<a class="panel_button panel_button-fb js-share-button" data-name="fb"></a><a class="panel_button panel_button-tw js-share-button" data-name="tw"></a><a class="panel_button panel_button-gp js-share-button" data-name="gp"></a><a class="panel_button panel_button-em js-mail-link" href="mailto:?subject={{title}}&body={{description}}"target="_blank"></a></div>'+d+'<a class="panel_button panel_button-embed js-embed"><span class="panel_tooltip">'+window.languageStrings.tooltip+"</span></a></div>"},_getPanelCn:function(){var a=this,b='<div class="panel"><div class="panel_shares">';if(a.options.embed)var c='<a class="panel_button panel_button-logo" target="_blank" href="'+window.kasstat_conf.statPage+'"></a>';else c='<a class="panel_button panel_button-info js-info"></a>';return b+='<a class="panel_button panel_button-qq js-share-button" data-name="qq"></a><a class="panel_button panel_button-sina js-share-button" data-name="sina"></a><a class="panel_button panel_button-tencent js-share-button" data-name="tencent"></a><a class="panel_button panel_button-em js-mail-link" href="mailto:?subject={{title}}&body={{description}}"target="_blank"></a></div>'+c+'<a class="panel_button panel_button-embed js-embed"><span class="panel_tooltip">'+window.languageStrings.tooltip+"</span></a></div>"},_getCurrentList:function(){var a=this,b=!1;return a.options.list&&a.options.selectCurrent!==!1&&"undefined"!=typeof a.options.list[a.options.selectCurrent]&&(b=a.options.list[a.options.selectCurrent]),b},// [ Public methods ]=========================
shareLink:function(){var a=this,b=a._getParams();return b.action="share",a.options.statPage+"?"+$.param(b)},embedLink:function(a){var b=this,c=b._getParams();return c.action="embed","undefined"!=typeof a&&(c.c_zoom=a),b.options.statPage+"?"+$.param(c)},getContent:function(a,b){var c=this;if(c.id=a,c.$.tooltip=$('<div class="tooltip"></div>').hide(),c.$.tile=$('<div class="tile"></div>'),c.$.tile.data("id",a),b&&1==b&&(c.$.tile.addClass("minimized"),c.minimized=!0),c.options.theme&&c.$.tile.addClass(c.options.theme),c.generateContent(),c.$.tile.addClass(c.largeTile?"large":"medium"),c.options.giant&&(c.$.tile.data("ss-colspan",2),c.$.tile.addClass("giant")),"undefined"==typeof c.$.content&&(c.$.content=$("<div></div>")),c.$.tile.append(c.$.content),c.$.head=$("<div class='head'><div class='title'>"+c.options.name+"</div><div class='dragger'></div></div>"),c.$.mini=$("<div class='mini'>&mdash;</div>"),c.$.mini.on("click",$.proxy(c.toggleContent,c)),c.options.select){c.$.tile.addClass("multi"),c.$.selects=$("<ul class='selects'></ul>");for(var d=0,e=c.options.select.length;e>d;d++){var f=$("<li>"+c.options.select[d]+"</li>");f.data("id",d),c.$.selects.append(f)}c.$.selects.find("li").eq(c.options.selectCurrent).addClass("selected"),c.$.selects.on("click","li",$.proxy(c.selectClick,c)),c.$.head.append(c.$.selects)}c.$.panel=$(c._getPanel()),c.$.panel.on("click",".js-embed",$.proxy(c.toggleEmbedbox,c)),c.$.panel.on("click",".js-share-button",$.proxy(c.sharePopup,c)),c.$.panel.on("click",".js-mail-link",$.proxy(c.updateEmail,c)),c.options.embed||(c.createPopup(),c.$.panel.on("click",".js-info",$.proxy(c.aboutPopup,c)));var g=$("<div class='colors'><div class='colc1'></div>"),h="<div class='embedbox'><div class='embed-select-size'></div><div class='embed-copy-code'><div class='embed-copy-btn'>Cкопировать код в буфер</div><div class='embed-back-btn'>Назад</div></div><div class='embed-complete'>Код скопирован</div></div>";return c.$.embedbox=$(h),c.options.embed&&setTimeout(function(){var a={width:window.ugly_cont_width+"px",top:window.ugly_cont_height-30+"px"};c.$.panel.css(a),a={width:window.ugly_cont_width+"px",height:window.ugly_cont_height-30+"px",top:0,left:0},c.$.embedbox.css(a)},100),c.$.tile.append(c.$.head),c.$.tile.append(c.$.mini),c.$.tile.append(c.$.panel),c.$.tile.append(c.$.tooltip),c.$.tile.append(g),c.$.tile.append(c.$.embedbox),c.$.embedbox.on("click",".embed-size-btn",function(){var a=$(this).data("zoom");c.$.embedbox.find(".embed-select-size").hide(),c.$.embedbox.find(".embed-copy-code").data("zoom",a).show()}),c.$.embedbox.on("click",".embed-back-btn",function(){c.$.embedbox.find(".embed-select-size").show(),c.$.embedbox.find(".embed-copy-code").hide()}),c.$.embedbox.find(".embed-copy-btn").zeroclipboard({dataRequested:function(a,b){var d=c.$.embedbox.find(".embed-copy-code").data("zoom"),e='<iframe src="'+c.embedLink(d)+'" width="'+c.$.tile.width()*d+'" height="'+c.$.tile.height()*d+'" frameborder="0"></iframe>';b(e)},complete:function(){c.$.embedbox.find(".embed-copy-code").hide(),c.$.embedbox.find(".embed-complete").show(),setTimeout(function(){c.$.embedbox.find(".embed-select-size").show(),c.$.embedbox.find(".embed-copy-code").hide(),c.$.embedbox.find(".embed-complete").hide(),c.toggleEmbedbox()},2e3)}}),1!=window.kasstat_conf.zoom&&c.$.tile.css("transform","scale("+window.kasstat_conf.zoom+")").css("transform-origin","top left"),c.$.tile},toggleContent:function(){var a=this;a.$.tile.toggleClass("minimized"),a.$.tile.parent().trigger("ss-rearrange"),a.$.tile.parent().trigger("ss-rearranged"),a.minimized=!a.minimized,a.minimized||a.drawChart()},selectClick:function(a){var b=this,c=$(a.currentTarget).data("id"),d=b.$.selects.find("li");d.eq(b.options.selectCurrent).removeClass("selected"),d.eq(c).addClass("selected"),b.options.selectCurrent=c,b.chartDrawed=!1,b.generateContent(),b.$.tile.find(".content").replaceWith(b.$.content),b.embedboxgen=!1,b.$.embedbox.empty(),b.$.embedbox.filter(":visible").length>0&&b.generateEmbedbox()},sharePopup:function(a){var b=this,c=b.shareLink(),d=b.getShareValue(),e=$(a.target),f="";switch(e.data("name")){case"vk":f="//vkontakte.ru/share.php?url="+encodeURIComponent(c)+"&title="+encodeURIComponent(b.options.share.title.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc))+"&description="+encodeURIComponent(""+b.options.share.description.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc)+" "+b.options.share.tags)+"&image="+encodeURIComponent(b.options.share.picture);break;case"fb":f="//www.facebook.com/sharer.php?p[url]="+encodeURIComponent(c)+"&p[title]="+encodeURIComponent(b.options.share.title.replace("%VAL%",d))+"&p[summary]="+encodeURIComponent(""+b.options.share.description.replace("%VAL%",d)+" "+b.options.share.tags)+"&p[images][0]"+encodeURIComponent(b.options.share.picture);//					FacebookApi.post({
//						method: 'feed',
//						name: self.options.share.title
//							.replace( "%VAL%", val )
//							.replace( "%NAME%", self.options.name )
//							.replace( "%DESC%", self.options.desc ),
//						caption: self.options.desc,
//						description: ( '' +
//							self.options.share.description
//								.replace( "%VAL%", val )
//								.replace( "%NAME%", self.options.name )
//								.replace( "%DESC%", self.options.desc )
//								+ " " +
//								self.options.share.tags ),
//						link: sharingURL,
//						picture: self.options.share.picture
//					});
break;case"tw":var g=c.split("?"),h=g[0];f="//twitter.com/share?url="+encodeURIComponent(h)+"&text="+encodeURIComponent(""+b.options.share.twitter.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc)+" "+b.options.share.tags);break;case"gp":f="https://plus.google.com/share?url="+encodeURIComponent(c);break;case"qq":f="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(c)+"&title="+encodeURIComponent(b.options.share.title.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc))+"&";break;case"sina":f="http://service.weibo.com/share/share.php?url="+encodeURIComponent(c)+"&title="+encodeURIComponent(b.options.share.title.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc))+"&";break;case"tencent":f="http://v.t.qq.com/share/share.php?url="+encodeURIComponent(c)+"&title="+encodeURIComponent(b.options.share.title.replace("%VAL%",d).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc))+"&"}f&&window.open(f,"popup","width=650,height=400")},updateEmail:function(a){var b=this,c=$(a.target),d=c.prop("href"),e=b.shareLink().split("?"),f=e[0],g=b.getShareValue();d=d.replace("{{title}}",encodeURIComponent(b.options.share.title.replace("%VAL%",g).replace("%NAME%",b.options.name).replace("%DESC%",b.options.desc)));var h=""+b.options.share.description.replace("%VAL%",g).replace("%NAME%",b.options.name).replace("%DESC%. ","")+" ";h=h.replace(/(http:\/\/|https:\/\/)[^\s]+/gim,""),d=d.replace("{{description}}",encodeURIComponent(b.options.share.tags+"\n\n"+h+f)),c.prop("href",d)},// Embed box
generateEmbedbox:function(){var a=this;if(!a.embedboxgen){for(var b="<div class='embed-head'>Выбери размер счетчика, px</div>",c=1;4>=c;c++){var d=c/2,e=Math.floor(a.$.tile.width()*d),f=Math.floor(a.$.tile.height()*d);b+="<div class='embed-size-btn nr"+c+"' data-zoom='"+d+"'>"+f+"x"+e+"</div>"}a.$.embedbox.find(".embed-select-size").html(b);var g=a.$.embedbox.parent(),h=150*window.kasstat_conf.zoom;if(window.kasstat_conf.zoom<1)var i=15;else i=30;var j=h-i;/*
				console.log(".embed-head,.embed-size-btn");
				console.log($prnt);
				console.log("panel_h = ",panel_h);
				console.log("tile_h = ",tile_h);
				console.log("h3 = ",Math.ceil(delta_h/3));
*/
a.$.embedbox.css({height:j+"px",bottom:i+"px"}),g.find(".embed-head,.embed-size-btn").css({height:Math.ceil(j/3)+"px",lineHeight:Math.ceil(j/3)+"px"}),g.find(".embed-head").css({fontSize:Math.ceil(16*window.kasstat_conf.zoom)+"px"}),g.find(".embed-size-btn").css({fontSize:Math.ceil(12*window.kasstat_conf.zoom)+"px"}),g.find(".embed-copy-btn,.embed-back-btn").css({lineHeight:Math.ceil(30*window.kasstat_conf.zoom)+"px",marginTop:Math.ceil(20*window.kasstat_conf.zoom)+"px",fontSize:Math.ceil(12*window.kasstat_conf.zoom)+"px"}),g.find(".embed-complete").css({lineHeight:j+"px",fontSize:Math.ceil(12*window.kasstat_conf.zoom)+"px"}),/*				var $txta = $( "<textarea></textarea>" );

				$txta.val( '<iframe ' +
					'src="' + self.embedLink() + '" ' +
					'width="' + self.$.tile.width() + '" ' +
					'height="' + self.$.tile.height() + '" ' +
					'frameborder="0"></iframe>' );

				self.$.embedbox.append( $txta );*/
a.embedboxgen=!0}},toggleEmbedbox:function(){var a=this;a.generateEmbedbox(),a.$.embedbox.toggle()},// popup
_get$popup:function(){var a=this,b='<div class="popup popup-info js-popup" data-name="'+a.popupName+'"><button class="popup_close js-popup-close"></button><div class="popup_inner"><div class="popup_title js-popup-title">'+window.languageStrings.popupUsage+a.options.desc+'</div><div class="popup_text"><div class="popup_media"><img src="'+a.options.product.picture+'" /></div>'+a.options.product.description+'</div><div class="popup_buttons"><div class="popup_buttons_title">'+window.languageStrings.downFree+'</div><a href="'+a.options.product.links.pc+'" class="popup_button popup_button-green" target="_blank">PC</a><a href="'+a.options.product.links.mac+'" class="popup_button popup_button-gray" target="_blank">MAC</a><a href="'+a.options.product.links.android+'" class="popup_button popup_button-blue" target="_blank">Android</a></div></div></div>';return $(b)},createPopup:function(){var a=this;a.popupName="popup_"+a.id;var b=a._get$popup();$(document.body).append(b),b.trigger("popupPrepare"),a.$.popup=b},aboutPopup:function(){var a=this;return a.$.tile.trigger("requestPopup",[a.popupName]),!1}});return e}(),TileTop10=function(){var a=$(window),b=TileObject.extend({init:function(){var a=this;a.largeTile=!0,a.popupTop50Columns=0},_fillPopupColumns:function(b,c,d){for(var e,f,g=this,h=[],i=c,j=0,k=Math.max(Math.min(220/d,25),45),l=0,m=b;m>l;l++){h[l]=[];for(var n=0;d>n;n++)e=(n+d-i)%2?"even":"odd",n>=i?h[l].unshift('<div class="line line-empty '+e+' "><div class="cell"></div><div class="cell"></div><div class="cell"></div></div>'):(h[l].push(g.popupTop50Lines[j].replace('class="','class="'+e+" ")),j++);f=i*k,h[l].unshift('<div class="lines" style="height:'+f+'px">'),0===l&&h[l].unshift(g.popupTop50TitleTPL),h[l].unshift('<div class="popup_column">'),h[l].push("</div></div>"),h[l]=h[l].join(""),i=d}var o='<div class="popup_columns">'+h.join("")+"</div>";g.$.popupTop50Inner.html(o);var p=90;b>1&&(p=(d-c)*k);var q=(d-c)%2?"even":"odd";g.$.popupTop50Inner.find(".popup_title").css({height:p}).removeClass("even").removeClass("odd").addClass(q),90>p&&b>1?(45>p&&g.$.popupTop50Inner.find(".popup_title").hide(),g.$.popupTop50Inner.find(".popup_title-2").hide()):(g.$.popupTop50Inner.find(".popup_title").show(),g.$.popupTop50Inner.find(".popup_title-2").show());var r=a.height(),s=$(document).height(),t=(r-f)/2;if(40>t)if(g.$.popupTop50.addClass("popup-unfixed"),s>f){var u=a.scrollTop();g.$.popupTop50.css(100>s-u-f?{top:s-f-50}:{top:u+50})}else g.$.popupTop50.css({top:50});else g.$.popupTop50.removeClass("popup-unfixed").css({top:t})},_regroupPopup:function(){function a(b,f,g){var h=Math.ceil(b/f),i=h-(h*f-b);f*c+(f-1)*d>e?(f-=1,a(b,f,g)):h/2>i&&f>1?(f-=1,a(b,f,g)):"function"==typeof g&&g(f,i,h)}var b=this,c=280,d=40,e=$(window).width(),f=Math.min(4,Math.ceil((e+d)/(c+d))),g=this.options.list[this.options.selectCurrent].length,h=Math.ceil(g/10);f=Math.min(f,h),a(g,f,function(a,e,f){if(a!==b.popupTop50Columns){b.popupTop50Columns=a;var g=a*c+(a-1)*d;b.$.popupTop50.css({width:g,marginLeft:-1*g/2}),b._fillPopupColumns(a,e,f)}})},_generatePopup:function(){var a=this,b=$(document.body);$(window).resize(function(){popups[a.popupName]&&popups[a.popupTop50Name].isShowed&&a._regroupPopup()});var c='<div class="popup popup-top50 js-popup '+a.options.theme+'" data-name="'+this.popupTop50Name+'"><button class="popup_close js-popup-close"></button><div class="popup_inner js-popup-inner"></div></div>',d=$(c),e=d.find(".js-popup-inner");a.$.popupTop50=d,a.$.popupTop50Inner=e;var f,g,h=a._getCurrentList(),i='<div class="popup_title"><span class="popup_title-1">TOP '+h.length+'</span><span class="popup_title-2">'+a.options.name+"</div>";a.popupTop50TitleTPL=i;for(var j=[],k=0,l=h.length;l>k;k++)f=h[k].name,g=h[k].val,j[k]='<div class="line"><div class="index">'+(k+1)+'</div><div class="name">'+f+'</div><div class="val">'+this._formatVal(g)+"</div></div>";a.popupTop50Lines=j,d.bind("popupBeforeShow",function(){a._regroupPopup()}),b.append(d),d.trigger("popupPrepare")},generateContent:function(){var a=this,b=a._getCurrentList();if(b){for(var c,d,e='<div class="content"><div class="lines">',f=0,g=Math.min(b.length,10);g>f;f++)c=b[f].name,d=b[f].val,e+='<div class="line"><div class="name">'+c+'</div><div class="val">'+this._formatVal(d)+"</div></div>";e+="</div>",b.length>10&&!a.options.embed&&(a.popupTop50Name="top50-"+getRandomInt(1e3,9999),e+='<div class="top50-button-line"><a class="top50-button js-popup-link" data-name="'+a.popupTop50Name+'">Посмотреть все</a></div>',a.$.tile.addClass("top50"),a._generatePopup()),a.$.tile.addClass("top10"),e+="</div>",a.$.content=$(e),b.length>6&&a.$.tile.addClass("verylarge"),a.$.tile.addClass("evenodd-"+g%2)}}});return b}(),TileRaiseStart=TileObject.extend({init:function(){var a=this;a.$.line1Val=null,a.$.line2Val=null,a.defaultOptions({list:{ddelta:0}})},generateContent:function(){var a=this;if(a.options.name){var b=a.getCurrentValue(),c=a._formatVal(b);a.$.content=$("<div class='content'></div>");var d=$("<div class='line'><div class='name'>"+a.options.name+"</div><div class='val'>"+c+"</div></div>");if(a.$.content.append(d),a.$.line1Val=d.find(".val"),a.options.opt_percent&&a.options.opt_comment){c=a._formatVal(a.getOptionalValue(b));var e=$("<div class='line'><div class='name'>NaN<div class='val'>"+c+"</div></div>");this.$.content.append(e),this.$.line2Val=e.find(".val"),this.$.tile.addClass("option")}else this.$.tile.addClass("counter")}},getCurrentValue:function(){var a=this,b=a._getCurrentList(),c=Date.now()/1e3,d=0;return 0!=b.ddelta&&(d=(c-b.sdt)/b.ddelta),Math.round(b.sval+d*(b.perc*b.sval/100+b.inc))},getOptionalValue:function(a){var b=this;return Math.round(a*b.options.opt_percent/100)},updateValue:function(){var a=this,b=a.getCurrentValue(),c=a._formatVal(b);a.$.line1Val.html(c),a.$.line2Val&&(c=a._formatVal(a.getOptionalValue(b)),a.$.line2Val.html(c))},getShareValue:function(){var a=this;return a._formatVal(a.getCurrentValue(),!0)}}),TileRaiseFinish=TileRaiseStart.extend({init:function(){},getCurrentValue:function(){var a,b=this,c=Date.now()/1e3,d=b._getCurrentList();return d.ddelta?(a=d.ddelta*(d.dval-d.sval),0!=a?Math.round(d.sval+(c-d.sdt)%d.ddelta/d.ddelta*(d.dval-d.sval)):d.sval):(a=(d.ddt-d.sdt)*(d.dval-d.sval),0!=a?Math.round(d.sval+(c-d.sdt)/(d.ddt-d.sdt)*(d.dval-d.sval)):d.sval)}}),TilePieChart=TileObject.extend({init:function(){var a=this;a.largeTile=!0},generateContent:function(){var a=this;a.$.content=$("<div class='content'></div>"),a.$.tile.hasClass("minimized")||a.drawChart(),a.$.tile.addClass("piechart")},drawChart:function(){var a=this,b=a._getCurrentList();if(!a.chartDrawed&&b){var c=Raphael(a.$.content[0],260,260);c.pieChart(130,130,80,b,a.$.tooltip),a.chartDrawed=!0}}}),TileColumnChart=function(){var a=function(a){return window.getComputedStyle?window.getComputedStyle(a,""):a.currentStyle},b=TileObject.extend({init:function(){var a=this;a.largeTile=!0,a.chartClass="columnchart nontimechart",a.timed=!1},generateContent:function(){var a=this;a.$.content=$('<div class="content"></div>'),a.$.tile.hasClass("minimized")||a.drawChart(),a.$.tile.addClass(a.chartClass)},_draw:function(){var b=this,c=a(b.$.tile[0]),d=c.backgroundColor,e=c.color;c=a(b.$.tile.find(".colors .colc1")[0]);var f=c.backgroundColor,g=260,h=!1;1==b.options.size&&(e=c.color,g=80,h=!0);var i=0;b.options.select?i=40:g+=30;var j=Raphael(b.$.content[0],280,g+40),k={x:0,y:i,width:280,height:g,list:b.options.list[b.options.selectCurrent],$tooltip:b.$.tooltip,bgcolor:d,textcolor:e,smallSize:h};b.timed&&(k.color=f,k.timed=!0),j.columnChart(k),b.chartDrawed=!0},drawChart:function(){var a=this;a.chartDrawed||!a.options.list||1!=a.options.size&&2!=a.options.size||setTimeout(function(){a._draw()},0)}});return b}(),TileColumnTimeChart=TileColumnChart.extend({init:function(){var a=this;a.timed=!0,a.chartClass="columnchart"}}),TileType={Top10:1,RaiseFinish:2,RaiseStart:3,PieChart:4,ColumnChart:5,ColumnTimeChart:6,/**
	 * @return {null}
	 */
Factory:function(a){var b=null;if(a&&a.type)switch(a.type){case TileType.Top10:b=new TileTop10(a);break;case TileType.RaiseFinish:b=new TileRaiseFinish(a);break;case TileType.RaiseStart:b=new TileRaiseStart(a);break;case TileType.PieChart:b=new TilePieChart(a);break;case TileType.ColumnChart:b=new TileColumnChart(a);break;case TileType.ColumnTimeChart:b=new TileColumnTimeChart(a);break;default:b=null}return b}};$(function(){TileGrid=function(a,b,c,d){var e=$.extend(!0,{name:"prefix_sort",expires:365,embed:!0},d),f=null,g={},h=$.cookie(e.name),i=h;if("object"==typeof h)for(var j in h)"string"==typeof h[j]&&"{"===h[j][0]&&(h[j]=JSON.parse(h[j]));else"string"==typeof h&&(i=JSON.parse(h));if(i&&"undefined"!=typeof i.kasstat_sort2&&(i=i.kasstat_sort2),h&&i){f=i.sort,g=i.mini;//console.log("tileSortData", tileSortData);
for(var k in f)f.hasOwnProperty(k)&&"undefined"==typeof b[f[k]]&&f.splice(k,1);for(var l in b)b.hasOwnProperty(l)&&-1==f.indexOf(parseInt(l))&&f.push(parseInt(l))}else f=c;/**
		 * @param {TileObject} data
		 * @param {int} id
		 * @param {int} minimized
		 */
var m=function(a,b,c){var d=a.getContent(b,c);return d};$(f).each(function(c,d){if(b[d]&&(a.append(m(b[d],d,g[d])),e.embed)){var f=a.find(".tile .panel"),h=f.parent().parent();f.detach(),h.append(f),f=a.find(".tile .embedbox"),h=f.parent().parent(),f.detach(),h.append(f)}}),e.embed||(a.shapeshift({colWidth:280,minHeight:320,gutterX:40,gutterY:30,minColumns:2,// because we have colspan="2" counter
align:"left",paddingX:0,paddingY:0,handle:".head .dragger",dragRate:0}),a.on("ss-rearranged",function(){var b=a.find(".tile");f=[],g={},b.each(function(a,b){var c=$(b),d=parseInt(c.data("id"),10);f.push(d),g[d]=c.hasClass("minimized")?"1":"0"}),$.cookie(e.name,JSON.stringify({mini:g,sort:f}),{expires:e.expires})})),setInterval(function(){for(l in b)b.hasOwnProperty(l)&&b[l].updateValue()},100)}}),$(function(){$(document.body).one("contlistMarkupInited",function(a){function b(){var a=f.height();h!==a&&(h=a,d.trigger("columnsHeightChange",[h]))}function c(){i&&clearTimeout(i),i=setTimeout(b,100)}var d=$(a.target),e=d.children();if(e.length>0){var f=d.children().eq(0),g=d.children().eq(1),h=f.height(),i=!1;$(window).resize(c);var j=d.find(".contlist_counters_inner");j.on("ss-rearranged",c),j.on("ss-removed",c),j.on("ss-added",c),j.on("ss-trashed",c),j.on("ss-drop-complete",c),j.on("ss-arranged",c);var k=g.children(),l=g.find(".js-dynamic-height"),m=l.parent();d.bind("columnsHeightChange commentsChangeHeight",function(){var a={column:j.height(),content:k.height(),wrapper:m.height(),comments:l.height()};a.rest=a.column-a.content,a.available=a.rest+a.wrapper;var b=Math.max(484,Math.min(a.available,a.comments));m.height(b),b>=a.comments?m.removeClass("state-scrollable"):m.addClass("state-scrollable")})}})}),function(){var a=function(){var a={cleanData:function(a){return"undefined"==typeof a.share&&(a.share={}),"undefined"!=typeof a.shareTitle&&a.shareTitle&&(a.share.title=a.shareTitle),delete a.shareTitle,"undefined"!=typeof a.shareDesc&&a.shareDesc&&(a.share.description=a.shareDesc),delete a.shareDesc,"undefined"!=typeof a.shareTwitter&&a.shareTwitter&&(a.share.twitter=a.shareTwitter),delete a.shareTwitter,"undefined"!=typeof a.sharePic&&a.sharePic&&(a.share.picture=a.sharePic),delete a.sharePic,"undefined"!=typeof a.shareTags&&a.shareTags&&(a.share.tags=a.shareTags),delete a.shareTags,a},parseTileData:function(b,c){var d=JSON.parse(b.params);b=a.cleanData(b,c);var e={id:1*b.id,name:b.name,size:2,desc:b.desc||"",fb_app_id:c.fb_app_id,sina_app_id:c.sina_app_id,sina_short_url:c.sina_short_url,giant:!(!b.giant||"0"===b.giant),product:{description:c.prodDesc||"",picture:c.prodLinkPic||"/wp-content/plugins/kaspersky_statistics/build/img/blank.gif",links:{pc:c.prodLinkPC||"",mac:c.prodLinkMac||"",android:c.prodLinkAndroid||""}},share:b.share};switch(e.theme=b.bg_color||!1,b.type){case"top10":e.type=TileType.Top10,e.list=[];for(var f in d.params)d.params.hasOwnProperty(f)&&e.list.push(d.params[f].list);break;case"pie":e.type=TileType.PieChart,e.list=[];for(f in d.params)if(d.params.hasOwnProperty(f)){e.list[f]=[];for(var g=0,h=d.params[f].list.length;h>g;g++){var i=d.params[f].list[g].name,j=d.params[f].list[g].val,k=d.params[f].list[g].color;i&&e.list[f].push({name:i,val:j,color:k})}}break;case"column":e.type=TileType.ColumnTimeChart,e.list=[];for(f in d.params)if(d.params.hasOwnProperty(f))for(e.list[f]=[],g=0,h=d.params[f].list.length;h>g;g++)i=d.params[f].list[g].dt,j=d.params[f].list[g].val,i&&e.list[f].push({dt:i,val:parseInt(j)});break;case"seek":e.type=TileType.RaiseFinish,e.list=[],e.size=1;for(f in d.params)d.params.hasOwnProperty(f)&&e.list.push({sval:parseInt(d.params[f].sval),sdt:parseInt(d.params[f].sdt),dval:parseInt(d.params[f].dval),ddt:d.params[f].ddt?parseInt(d.params[f].ddt):0,ddelta:d.params[f].ddelta?parseInt(d.params[f].ddelta):0});b.additional_percent&&(e.opt_percent=parseInt(b.additional_percent),e.opt_comment=b.additional_comment);break;case"increscent":e.type=TileType.RaiseStart,e.list=[],e.size=1;for(f in d.params)d.params.hasOwnProperty(f)&&e.list.push({sval:parseInt(d.params[f].sval),sdt:parseInt(d.params[f].sdt),inc:d.params[f].inc?parseInt(d.params[f].inc):0,perc:d.params[f].perc?parseInt(d.params[f].perc):0,ddelta:d.params[f].ddelta?parseInt(d.params[f].ddelta):0});b.additional_percent&&(e.opt_percent=parseInt(b.additional_percent),e.opt_comment=b.additional_comment)}return d.delimetrs&&(e.select=d.delimetrs),e},parseTilesResponse:function(b,c){var d,e={},f=[];for(var g in b.tiles)d=a.parseTileData(b.tiles[g],b),d.embed=c.embed,e[d.id]=TileType.Factory(d),f.push(d.id);return{tiles:e,sort:f}},loadTiles:function(a,b){$.getJSON(a,{},b)}},b={getCounters:function(b,c,d){a.loadTiles(b,function(b){var e=a.parseTilesResponse(b,c);"function"==typeof d&&d(e.tiles,e.sort,b)})}};return b}();$(function(){// init config
window.kasstat_conf=$.extend(!0,{apiURL:"/wp-admin/admin-ajax.php",statPage:"//"+window.location.host+"/",themeURL:"//"+window.location.host+"/wp-content/themes/wt_metro",ac:1,zoom:1},window.kasstat_conf);//
var b,c,d,e=kasstat_conf.apiURL+"?action=get_counters",f=$("#kasstat_embed_script");if(f.length>0)for(var g,b=f.attr("src"),h=b.split("?"),i=h[1].split("&"),j=0,k=i.length;k>j;j++)g=i[j].split("="),"c_id"==g[0]&&(c=g[1]),"c_sel"==g[0]&&(d=g[1]);c&&(e+="&ids="+c);var l={name:"kasstat_sort2",expires:365,embed:"undefined"!=typeof c},m=$(".contlist"),n=$("<div/>",{"class":"contlist_counters"}),o=$("<div/>",{"class":"contlist_counters_inner"});if(n.append(o),"undefined"==typeof window.embedMode&&n.append('<div class="contlist_counters_comm">'+window.languageStrings.dataUsage+"</div>"),m.append(n),l.embed)window.kasstat_conf.zoom>0&&1!=window.kasstat_conf.zoom;else{var p=$("<div/>",{"class":"contlist_additional"}),q=$("<div/>",{"class":"contlist_additional_inner",html:'<div class="contlist_widgets"><div class="contlist_widget js-twitter-widget"></div><div class="contlist_widget js-facebook-widget"></div><div class="contlist_widget js-report-widget"></div></div>'});m.append(p.append(q));var r=(m.find(".js-twitter-widget"),m.find(".js-facebook-widget"),m.find(".js-report-widget"));r.append('<a class="button-report-bug" href="mailto:contest@kaspersky.com" target="_blank">'+window.languageStrings.reportBug+"</a>")}a.getCounters(e,l,function(a,b,c){if(l=$.extend(l,{fb_app_id:c.fb_app_id,sina_app_id:c.sina_app_id,sina_short_url:c.sina_short_url,shareTitle:c.shareTitleTotal,shareDesc:c.shareDescTotal,shareTwitter:c.shareTwitterTotal,shareTags:c.shareTwitterTagsTotal,sharePic:c.sharePicTotal}),$.zeroclipboard({moviePath:"/wp-content/plugins/kaspersky_statistics/build/components/zeroclipboard/ZeroClipboard.swf",activeClass:"active",hoverClass:"hover"}),new TileGrid(o,a,b,l),"undefined"!=typeof c&&"undefined"!=typeof c.vk_app_id&&"undefined"!=typeof VK&&VK.init({apiId:c.vk_app_id,onlyWidgets:!0}),!l.embed){var d=likebox(window.location.href,l);q.prepend(d)}if("undefined"==typeof window.embedMode){var e="";"zh-CN"==window.currentLang?(window.commentsApi=window.SinaApiClass({appId:l.sina_app_id,shortURL:l.sina_short_url}),e="//tjs.sjs.sinajs.cn/open/api/js/wb.js?Debug=true&appkey="+l.sina_app_id):(window.commentsApi=window.FacebookApiClass({appId:l.fb_app_id}),e="//connect.facebook.net/en_UK/all.js#xfbml=1&appId="+l.fb_app_id),m.trigger("contlistMarkupInited"),$.ajaxSetup({cache:!0}),$.getScript(e,commentsApi.init)}else{var f=m.find(".tile"),g=Math.floor(f.height()*window.kasstat_conf.zoom);m.css({width:Math.floor(f.width()*window.kasstat_conf.zoom)+"px",height:g+"px",overflow:"hidden"}),window.ugly_cont_width=Math.floor(window.kasstat_conf.zoom<1?f.width()*window.kasstat_conf.zoom*2:f.width()*window.kasstat_conf.zoom),window.ugly_cont_height=g,//				console.log("setting ugly hack");
window.kasstat_conf.zoom<1&&m.find(".panel").css("transform","scale("+window.kasstat_conf.zoom+")").css("transform-origin","bottom left").css("width",f.width()+"px");var h=$(".counter-daily-page-embed .contlist .content,.counter-daily-page-embed .contlist .head");h.on("click",function(){window.top.location=window.kasstat_conf.statPage})}setTimeout(function(){window.location.href=window.location.href},864e5)})})}();
//# sourceMappingURL=embed.map