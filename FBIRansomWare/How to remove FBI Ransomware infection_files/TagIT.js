function TagIT(e,t,n){this.debug=t||false;this.do_refresh_params=false;this.disabled=n||false;this.cnt=0;if(this.debug){this.path="http://"+window.location.hostname+"/site/Main/TagIT/"}else{if(window.location.protocol=="https:"){this.path="https://partners.bitdefender.com/site/Main/TagIT/"}else{this.path="http://www.bitdefender.com/site/Main/TagIT/"}}this.queue=[];this.args=[];this.busy=false;this.timer=null;this.userEntries=0;this.site_language="en";if(typeof e!="undefined"){this.site_language=e}this.is_new_session=false;var r=this.cookie("tagit_session");if(r===null){this.is_new_session=true;this.cookie("tagit_session","1",{path:"/"});this.newSessionInit()}_time=Math.round((new Date).getTime()/1e3);var i=this.getParameterByName("cid");if(i!=""){this.addParam("cid",i,_time);this.do_refresh_params=true}var s=this.getParameterByName("pid");if(s!=""){this.addParam("pid",s,_time);this.do_refresh_params=true}var o=this.getParameterByName("icid");if(o!=""){this.addParam("icid",o,_time);this.do_refresh_params=true}this.addEntry();this.getUserEntries();try{var u=document.location.href.toLowerCase();if(u.indexOf("Store/quickRenew")==-1){$.holdReady(true)}}catch(a){}var f=this.cookie("tagit_params");if(this.do_refresh_params||f==null){this.getParams("TagIT_getParams_callback")}else{window.tagit_params=JSON.parse(f);try{$.holdReady(false)}catch(a){}}}function TagIT_callback(e,t){if(tagit.debug){}}function TagIT_getParams_callback(result,message,second_callback){if(result=="success"){window.tagit_params=JSON.parse(message);tagit.cookie("tagit_params",JSON.stringify(tagit_params),{path:"/"});if(second_callback){eval(second_callback+"();")}}try{$.holdReady(false)}catch(err){}return}function TagIT_getLastPurchases_callback(result,message,second_callback){if(result=="success"){window.last_purchases=JSON.parse(message);tagit.cookie("last_purchases",JSON.stringify(last_purchases),{path:"/",expires:10});if(second_callback){eval(second_callback+"();")}}try{$.holdReady(false)}catch(err){}return}TagIT.prototype.next=function(){if(this.queue.length>0){this.busy=true;f=this.queue.shift();a=this.args.shift();f.apply(this,a)}};TagIT.prototype._ping=function(e){if(this.disabled)return;var t=document.createElement("script");var n=this.path+e+"&l="+this.site_language;this.cnt++;n+="&ch="+(Math.round((new Date).getTime()/1e3)+this.cnt);t.setAttribute("src",n);if(navigator.userAgent.toLowerCase().match(/safari/)&&navigator.userAgent.match(/Version/)){document.getElementsByTagName("head")[0].appendChild(t);this.timer=setInterval(function(e){return function(){if(/loaded|complete/.test(document.readyState)){clearInterval(e.timer);setTimeout(function(e){return function(){e.busy=false;e.next()}}(e),50)}}}(this),10)}else{if(navigator.appVersion.indexOf("MSIE")!=-1){var r=function(){if(this.readyState=="complete"||this.readyState=="loaded"){tagit.busy=false;tagit.next()}};t.onreadystatechange=r}else{t.onload=function(){tagit.busy=false;tagit.next()}}document.getElementsByTagName("head")[0].appendChild(t)}};TagIT.prototype.newSessionInit=function(e){this.queue.push(this._newSessionInit);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addPage=function(e,t){this.queue.push(this._addPage);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addEntry=function(e){this.queue.push(this._addEntry);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getUserEntries=function(e){this.queue.push(this._getUserEntries);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getObject=function(e){this.queue.push(this._getObject);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.setParamExpire=function(e,t,n,r){this.queue.push(this._setParamExpire);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addEmail=function(e,t,n){this.queue.push(this._addEmail);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addProduct=function(e,t,n){this.queue.push(this._addProduct);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addTrial=function(e,t,n){this.queue.push(this._addTrial);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addAction=function(e,t,n,r,i,s){this.queue.push(this._addAction);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addParam=function(e,t,n,r){this.queue.push(this._addParam);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getParams=function(e,t){this.queue.push(this._getParams);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.addCookie=function(e,t,n,r,i){this.queue.push(this._addCookie);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getCookie=function(e,t){this.queue.push(this._getCookie);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getLastPurchases=function(callback,callback2){try{$.holdReady(true)}catch(err){}_ck=tagit.cookie("last_purchases");if(_ck!=null){window.last_purchases=JSON.parse(_ck);if(callback2){eval(callback2+"();")}try{$.holdReady(false)}catch(err){}}else{this.queue.push(this._getLastPurchases);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}}};TagIT.prototype.saveCartSnapshot=function(e,t){this.queue.push(this._saveCartSnapshot);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.getCartSnapshot=function(e,t){this.queue.push(this._getCartSnapshot);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.setBlock=function(e,t){this.queue.push(this._setBlock);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype.clear=function(e){this.queue.push(this._clear);this.args.push(arguments);if(this.queue.length==1&&!this.busy){this.next()}};TagIT.prototype._newSessionInit=function(e){var e=e||"";this._ping("newsessioninit/?callback="+e)};TagIT.prototype._addPage=function(e,t){var t=t||"";this._ping("addpage/?url="+e+"&callback="+t)};TagIT.prototype._addEntry=function(e){var e=e||"";this._ping("addentry/?callback="+e)};TagIT.prototype._getUserEntries=function(e){var e=e||"";this._ping("getuserentries/?callback="+e)};TagIT.prototype._setParamExpire=function(e,t,n,r){var r=r||"";this._ping("setparamexpire/?param_type="+e+"&param_name="+t+"&param_expire_time="+n+"&callback="+r)};TagIT.prototype._getParams=function(e,t){var e=e||"";var t=t||"";this._ping("getparams/?callback="+e+"&callback2="+t)};TagIT.prototype._getLastPurchases=function(e,t){var e=e||"";var t=t||"";this._ping("getlastpurchases/?callback="+e+"&callback2="+t)};TagIT.prototype._getObject=function(e){var e=e||"";this._ping("getobject/?callback="+e)};TagIT.prototype._addEmail=function(e,t,n){var t=t||0;var n=n||"";this._ping("addemail/?email="+e+"&time="+t+"&callback="+n)};TagIT.prototype._addProduct=function(e,t,n){var t=t||0;var n=n||"";this._ping("addproduct/?prodid="+e+"&time="+t+"&callback="+n)};TagIT.prototype._addTrial=function(e,t,n){var t=t||0;var n=n||"";this._ping("addtrial/?prodid="+e+"&time="+t+"&callback="+n)};TagIT.prototype._addAction=function(e,t,n,r,i,s){var o=Math.round(+(new Date)/1e3);var i=i||0;var s=s||"";var t=t||"";var n=n||"";n=encodeURIComponent(n);var r=r||"0";this._ping("addaction/?action_type="+e+"&email="+t+"&details="+n+"&action_status="+r+"&time="+i+"&callback="+s)};TagIT.prototype._addParam=function(e,t,n,r){var n=n||0;var r=r||"";this._ping("addparam/?param_name="+e+"&param_value="+t+"&time="+n+"&callback="+r)};TagIT.prototype._addCookie=function(e,t,n,r,i){var r=r||0;t=t||"";n=n||0;var i=i||"";this._ping("addcookie/?name="+e+"&value="+t+"&expire_interval="+n+"&time="+r+"&callback="+i)};TagIT.prototype._getCookie=function(e,t){var t=t||"";var n=n||"";this._ping("getcookie/?name="+e+"&callback="+t)};TagIT.prototype._saveCartSnapshot=function(e,t){var t=t||"";this._ping("savecartsnapshot/?data="+encodeURIComponent(JSON.stringify(e))+"&callback="+t)};TagIT.prototype._getCartSnapshot=function(e,t){var t=t||"";this._ping("getcartsnapshot/?cart_id="+encodeURIComponent(e)+"&callback="+t)};TagIT.prototype._setBlock=function(e,t){var e=e||0;var t=t||"";this._ping("setblock/?v="+e+"&callback="+t)};TagIT.prototype._clear=function(e){var e=e||"";this._ping("clear/?callback="+e)};TagIT.prototype.monitor=function(e){var t,n;if(e!=null&&typeof e!="undefined"){e.onblur=tagit.checkEmail}else{t=document.getElementsByTagName("input");for(n=0;n<t.length;++n){if(t[n].type=="text"){var r=t[n].onblur;if(typeof r=="function"){t[n].onblur=function(){r();tagit.checkEmail(this)}}else{t[n].onblur=tagit.checkEmail}}}}};TagIT.prototype.monitor_field=function(e,t,n){t=t||"general monitor";n=n||"-";if(e!=null&&typeof e!="undefined"){var r=e.onblur;if(typeof r=="function"){e.onblur=function(){r();var i=e.value;i=i.replace(/^\s+|\s+$/g,"");if(tagit.validateEmail(i)){if(t){tagit.addAction(t,i,n)}}}}else{e.onblur=function(r){var i=e.value;i=i.replace(/^\s+|\s+$/g,"");if(tagit.validateEmail(i)){if(t){tagit.addAction(t,i,n)}}}}}};TagIT.prototype.checkEmail=function(e,t){var n=e.value;_txt=n.replace(/^\s+|\s+$/g,"");if(tagit.validateEmail(n)){tagit.addEmail(n)}};TagIT.prototype.gettt=function(){$.ajax({type:"GET",url:"http://'+window.location.hostname+'/site/Main/TagIT/",data:{name:"John",location:"Boston"}}).done(function(e){alert("Data Saved: "+e)})};TagIT.prototype.validateEmail=function(e){var t=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return t.test(e)};TagIT.prototype.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)";var n=new RegExp(t);var r=n.exec(window.location.href);if(r==null)return"";else return decodeURIComponent(r[1].replace(/\+/g," "))};TagIT.prototype.cookie=function(e,t,n){if(typeof t!="undefined"){n=n||{};if(t===null){t="";n.expires=-1}var r="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var i;if(typeof n.expires=="number"){i=new Date;i.setTime(i.getTime()+n.expires*1e3)}else{i=n.expires}r="; expires="+i.toUTCString()}var s=n.path?"; path="+n.path:"";var o=n.domain?"; domain="+n.domain:"";var u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,s,o,u].join("")}else{var a=null;if(document.cookie&&document.cookie!=""){var f=document.cookie.split(";");for(var l=0;l<f.length;l++){var c=f[l].replace(/^\s+|\s+$/g,"");if(c.substring(0,e.length+1)==e+"="){a=decodeURIComponent(c.substring(e.length+1));break}}}return a}};var JSON;if(!JSON){JSON={}}(function(){function str(e,t){var n,r,i,s,o=gap,u,a=t[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(e)}if(typeof rep==="function"){a=rep.call(t,e,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){r=rep[n];i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}else{for(r in a){if(Object.prototype.hasOwnProperty.call(a,r)){i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return e<10?"0"+e:e}"use strict";if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()